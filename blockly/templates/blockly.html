<html>
<head>
    <meta charset="utf-8">
    <script src="{{ url_for('static', filename='blockly_compressed.js') }}"></script>
    <script src="{{ url_for('static', filename='blocks_compressed.js') }}"></script>
    <script src="{{ url_for('static', filename='python_compressed.js') }}"></script>
    <script src="{{ url_for('static', filename='msg/js/fr.js') }}"></script>
</head>
<body>
<div id="blocklyDiv" style="height: 600px; width: 1200px;"></div>
<pre id="content_python" class="content"></pre>

<xml id="toolbox" style="display: none">
    <category id="catLogic" colour="210">
        <block type="controls_if"></block>
        <block type="logic_compare"></block>
    </category>
    <category id="catMath" colour="120">
        <block type="math_number"></block>
        <block type="math_arithmetic"></block>
    </category>
    <category id="catText" colour="230">
        <block type="text"></block>
        <block type="text_print"></block>
    </category>
    <category id="catVariables" colour="330" custom="VARIABLE"></category>
</xml>
<script>
    var workspace = Blockly.inject('blocklyDiv',
            {toolbox: document.getElementById('toolbox')});
    function myUpdateFunction() {
        var code = Blockly.Python.workspaceToCode(workspace);
        document.getElementById('content_python').innerHTML = code;
    }
    workspace.addChangeListener(myUpdateFunction);
</script>

</body>
</html>
